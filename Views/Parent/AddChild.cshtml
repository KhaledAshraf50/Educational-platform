@using Luno_platform.Viewmodel
@model ChildViewModel
@{
    ViewData["Title"] = "AddChild";
    Layout = "_ParentDashboard";
}
@section Styles {
    <link rel="stylesheet" href="~/assets/css/parentchildren.css" />
    <link rel="stylesheet" href="~/assets/css/mainpage.css" />
}
<div class="m-3 bodycontent children" id="children">
    <div class="children-header">
        <h2><i class="fa-solid fa-children me-2"></i> إضافة ابن</h2>
        <p class="">يرجي ادخال رقم القومي لابنك وتاكد انهو قد سجل في المنصه قبل ان تضيفه هنا !!</p>
    </div>
    <div class="add-child-form mt-4">
        @if (TempData["Error"] != null)
        {
           // alert-dismissible → تجعل الرسالة قابلة للإغلاق
            //<button class="btn-close"...> → الزر اللي المستخدم يقدر يدوسه لإخفاء الرسالة
            //fade show → لإضافة تأثير ظهور وخفاء لطيف
            //data-bs-dismiss="alert" → يخلي Bootstrap يتعامل مع الزر ويخفي الرسالة تلقائيًا
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
                @TempData["Error"]
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            @TempData.Remove("Error")
        }
        <form asp-action="SaveAddChild" method="post">
            <input type="hidden" asp-for="ParentID" name="ParentID" />
            <div class="mb-3">
                <label for="NationalID" class="form-label">الرقم االقومي</label>
                <input type="text" asp-for="NationalID" class="form-control" />
                <span asp-validation-for="NationalID" class="text-danger"></span>
            </div>
            <button type="submit" class="btn btn-primary">بحث</button>
        </form>
    </div>
</div>
@section script{
    @* client side validation *@
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script>
        setTimeout(function(){
        var alert = document.getElementById("tempError");
        if(alert){
            alert.classList.remove("show")
            alert.style.display="none";
        }
        },5000)
    </script>
}
