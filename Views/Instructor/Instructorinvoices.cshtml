@model List<Luno_platform.ViewModels.InvoiceVM>

@{
    Layout = "_InstructorDashboard";
}

@section stylee {
    <link rel="stylesheet" href="~/assets/css/invoices.css">
}

<div class="content">
    <div class="top-icons">
        <button class="icon-btn" id="notification-btn">
            <i class="fa-solid fa-bell"></i>
        </button>

        <button class="icon-btn" aria-label="الملف الشخصي" onclick="window.location.href='#'">
            <i class="fa-solid fa-circle-user"></i>
        </button>
    </div>

    <div class="InvoicesPage m-3" id="InvoicesPage">
        <div class="container text-center mt-3">
            <div class="header d-flex justify-content-between align-items-center mb-3">
                <div class="title">
                    <h3>الفواتير</h3>
                    <p>آخر الفواتير الخاصة بالكورسات</p>
                </div>

                <form class="search-box" role="search">
                    <input type="search" placeholder="ابحث عن فاتورة..." />
                </form>
            </div>

            <div class="table-responsive">
                <table class="table table-hover text-center align-middle table_Edit">
                    <thead>
                        <tr>
                            <th>رقم الفاتورة</th>
                            <th>اسم الدورة</th>
                            <th>تاريخ الإصدار</th>
                            <th>حالة الدفع</th>
                            <th>إجمالي المبلغ</th>
                            <th>عرض التفاصيل</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var invoice in Model)
                        {
                            <tr>
                                <td>@invoice.InvoiceId</td>
                                <td>@invoice.CourseName</td>
                                <td>@invoice.Date.ToString("yyyy-MM-dd")</td>
                                <td>
                                    @if (invoice.Status == "Paid")
                                    {
                                        <span class="badgepaid">مدفوع</span>
                                    }
                                    else
                                    {
                                        <span class="badgeunpaid">غير مدفوع</span>
                                    }
                                </td>
                                <td>@invoice.Amount EG</td>
                                <td><button class="btn btn-sm btn-info">عرض</button></td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
@* <p> *@
@*     CurrentPage: @ViewBag.CurrentPage | *@
   
@*     TotalPages: @ViewBag.TotalPages dddddddddddddddddddddddddd *@
@* </p> *@

<div class="d-flex justify-content-center mt-4">
    <div class="d-flex justify-content-center mt-4">

        <!-- Previous -->
        @if (ViewBag.CurrentPage > 1)
        {
            <a href="@Url.Action("Instructorinvoices", new { page = ViewBag.CurrentPage - 1 })"
               class="btn btn-secondary mx-2">
                السابق
            </a>
        }

        <!-- Next -->
        @if (ViewBag.CurrentPage < ViewBag.TotalPages)
        {
            <a href="@Url.Action("Instructorinvoices", new { page = ViewBag.CurrentPage + 1 })"
               class="btn btn-primary mx-2">
                التالي
            </a>
        }

    </div>
    
